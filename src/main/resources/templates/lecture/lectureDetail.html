<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <th:block th:insert="~{layout/head :: head}"></th:block>
    <link rel="stylesheet" th:href="@{/css/stylesLms.css}">
    <title>강좌 등록</title>
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" th:href="@{/css/lecture/detail/bootstrap.css}"/>
    <link rel="stylesheet" th:href="@{/css/lecture/detail/vendors/linericon/style.css}"/>
    <link rel="stylesheet" th:href="@{/css/lecture/detail/vendors/owl-carousel/owl.carousel.min.css}"/>
    <link rel="stylesheet" th:href="@{/css/lecture/detail/vendors/lightbox/simpleLightbox.css}"/>
    <link rel="stylesheet" th:href="@{/css/lecture/detail/vendors/nice-select/css/nice-select.css}"/>
    <link rel="stylesheet" th:href="@{/css/lecture/detail/vendors/animate-css/animate.css}"/>
    <link rel="stylesheet" th:href="@{/css/lecture/detail/vendors/jquery-ui/jquery-ui.css}"/>
    <!-- main css -->
    <link rel="stylesheet" th:href="@{/css/lecture/detail/style.css}"/>
    <link rel="stylesheet" th:href="@{/css/lecture/detail/responsive.css}"/>
    <link rel="stylesheet" th:href="@{/css/lecture/detail/video.css}"/>

    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
</head>

<body>

<th:block th:insert="~{layout/header :: header}"></th:block>

<!--================Home Banner Area =================-->
<section class="banner_area">
    <div class="banner_inner d-flex align-items-center">
        <div class="container">
            <div class="banner_content justify-content-between align-items-center">


                <!--            <div class="mb-3 mb-md-0">-->
                <!--              <h2>Product Details</h2>-->
                <!--              <p>Very us move be blessed multiply night</p>-->
                <!--            </div>-->
                <!--            <div class="page_link">-->
                <!--              <a href="index.html">Home</a>-->
                <!--              <a href="lectureDetail.html">Product Details</a>-->
                <!--            </div>-->


                <!--================Single Product Area =================-->
                <div class="product_image_area">
                    <div class="container">
                        <div class="row s_product_inner" th:each="lecture: ${lecture}">
                            <div class="col-lg-6">
                                <div class="s_product_img">
                                    <div id="carouselExampleIndicators"
                                         class="carousel slide"
                                         data-ride="carousel">

                                        <div class="carousel-inner" style="width: 600px;">
                                            <div class="carousel-item active">
                                                <img
                                                        class="d-block w-100"
                                                        th:src="@{'/upload/' + ${lecture.getLectureImg1()}}"/>
                                            </div>
                                            <!--                                            <div class="carousel-item">-->
                                            <!--                                                <img-->
                                            <!--                                                        class="d-block w-100"-->
                                            <!--                                                        src="img/product/single-product/s-product-1.jpg"-->
                                            <!--                                                        alt="Second slide"-->
                                            <!--                                                />-->
                                            <!--                                            </div>-->
                                            <!--                                            <div class="carousel-item">-->
                                            <!--                                                <img-->
                                            <!--                                                        class="d-block w-100"-->
                                            <!--                                                        src="img/product/single-product/s-product-1.jpg"-->
                                            <!--                                                        alt="Third slide"-->
                                            <!--                                                />-->
                                            <!--                                            </div>-->
                                        </div>

                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-5 offset-lg-1">
                                <div class="s_product_text">
                                    <!--                                    <h3> 강좌제목 </h3>-->
                                    <h2 th:text="${lecture.getLectureName()}">강좌제목</h2>
                                    <ul class="list">


                                        <li>
                                            <span style="font-size: 15px;font-weight: bold;">신청 기간</span>
                                            <p2 th:text="${lecture.getStartEnrolmentDate()}"></p2>
                                            <strong> - </strong>
                                            <p2 th:text="${lecture.getEndEnrolmentDate()}"></p2>

                                            </a>
                                        </li>
                                        <li>
                                            <span style=" font-size: 15px; font-weight: bold;">학습 기간</span>
                                            <p2 th:text="${lecture.getStartStudyDate()}"></p2>
                                            <strong> - </strong>
                                            <p2 th:text="${lecture.getEndStudyDate()}"></p2>


                                        </li>


                                        <li>

                                            <span style="font-size: 15px;font-weight: bold;">신청 현황</span>
                                            <strong><p2 style="color: #002a80" th:text="${lecture.getLectureCurnum()}" ></p2></strong>
                                            <strong> / </strong>
                                            <p2 th:text="${lecture.getLectureMaxnum()}"></p2>


                                        </li>
                                    </ul>
                                    <!--<p>
                                        Mill Oil is an innovative oil filled radiator with the most

                                    </p>
                                    <div class="product_count">
                                        <label for="qty">Quantity:</label>
                                        <input
                                                type="text"
                                                name="qty"
                                                id="sst"
                                                maxlength="12"
                                                value="1"
                                                title="Quantity:"
                                                class="input-text qty"
                                        />
                                        <button
                                                onclick="var result = document.getElementById('sst'); var sst = result.value; if( !isNaN( sst )) result.value++;return false;"
                                                class="increase items-count"
                                                type="button"
                                        >
                                            <i class="lnr lnr-chevron-up"></i>
                                        </button>
                                        <button
                                                onclick="var result = document.getElementById('sst'); var sst = result.value; if( !isNaN( sst ) &amp;&amp; sst > 0 ) result.value&#45;&#45;;return false;"
                                                class="reduced items-count"
                                                type="button"
                                        >
                                            <i class="lnr lnr-chevron-down"></i>
                                        </button>
                                    </div>-->


                                    <div class="card_area" style="margin-top: 40px;">
                                        <form id="submitForm" method="post">


                                            <input type="hidden" name="id" th:value="${lecture.getLecture_no()}"/>
                                            <button type="submit" class="main_btn" style="width: 300px;" sec:authorize="hasRole('STUDENT') or hasRole('USER') " th:if="${lecture.getLectureCurnum} < ${lecture.getLectureMaxnum} and ${lecture.getLectureAct()} == 1">수강 신청</button>
                                            <!--<a class="btn btn-secondary " style="width: 300px; color: white;" sec:authorize="hasRole('STUDENT') or hasRole('USER') or hasRole('TEACHER')" th:if="(${lecture.getLectureCurnum} eq ${lecture.getLectureMaxnum}) || (${lecture.getLectureAct} ne 1)"> 신청 마감 </a>-->
                                            <a class="btn btn-secondary" style="width: 300px; color: white; margin-bottom: 10px;"
                                               th:if="${lecture.getLectureCurnum() == lecture.getLectureMaxnum() or lecture.getLectureAct() != 1}">신청 마감</a><br>


                                            <a th:href="@{'/admin/updateLecture/' + ${lecture.getLecture_no()}}" class="btn btn-primary " style="width: 150px;" sec:authorize="hasRole('ADMIN')">수정</a>
                                            <a th:href="@{'/admin/deleteLecture/' + ${lecture.getLecture_no()}}" class="btn btn-danger" style="width: 150px;" sec:authorize="hasRole('ADMIN')">삭제</a>
                                            <!--<button type="submit">수강신청</button-->
                                            <!--<button class="main_btn" style="width: 150px;"
                                                    th:href="@{lecture/lectureList}">강좌 목록
                                            </button>-->







                                        </form>
                                    </div>


                                    <script>
                                        $(function () {
                                            $('#submitForm').on('submit', function () {
                                                var $thisForm = $(this);

                                                // 서버로부터 강의 수강 여부 체크
                                                var lectureNo = $thisForm.find('input[name=id]').val();
                                                var checkUrl = '/lecture/api/checkEnrollment.api?lectureNo=' + lectureNo;

                                                axios.get(checkUrl)
                                                    .then(function (response) {
                                                        response.data = response.data || {};
                                                        response.data.header = response.data.header || {};

                                                        if (response.data.header.result) {
                                                            // 강의 수강 중인 경우
                                                            if (confirm('이미 수강 중인 강의입니다. 강의 목록으로 이동하시겠습니까?')) {
                                                                location.href = '/lecture/lectureList';
                                                            }
                                                        } else {
                                                            // 강의 수강 중이 아닌 경우
                                                            if (confirm('수강 신청을 하시겠습니까?')) {
                                                                // 서버로 신청 요청
                                                                var submitUrl = '/lecture/api/course/req.api';
                                                                axios.post(submitUrl, { lectureNo: lectureNo })
                                                                    .then(function (response) {
                                                                        response.data = response.data || {};
                                                                        response.data.header = response.data.header || {};

                                                                        if (!response.data.header.result) {
                                                                            alert(response.data.header.message);
                                                                        } else {
                                                                            alert('강좌가 정상적으로 신청되었습니다.');
                                                                            location.reload(); // 페이지 리로드
                                                                        }
                                                                    })
                                                                    .catch(function (err) {
                                                                        console.error(err);
                                                                    });
                                                            }
                                                        }
                                                    })
                                                    .catch(function (err) {
                                                        console.error(err);
                                                    });

                                                return false;
                                            });
                                        });
                                    </script>






                                    <!-- <div class="card_area" style="margin-top: 40px;">
                                         <a class="main_btn" href="#" style="width: 250px;">수강 신청</a>
                                         &lt;!&ndash;<a class="icon_btn" href="#">
                                             <i class="lnr lnr lnr-diamond"></i>
                                         </a>
                                         <a class="icon_btn" href="#">
                                             <i class="lnr lnr lnr-heart"></i>
                                         </a>&ndash;&gt;
                                     </div>-->

                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!--================End Single Product Area =================-->


            </div>
        </div>
    </div>
</section>
<!--================End Home Banner Area =================-->


<!--================Product Description Area =================-->
<section class="product_description_area">
    <div class="container">
        <ul class="nav nav-tabs" id="myTab" role="tablist">
          <!-- <li class="nav-item" >
                <a
                        class="nav-link "
                        id="home-tab"
                        data-toggle="tab"
                        href="#home"
                        role="tab"
                        aria-controls="home"
                        aria-selected="true"
                        style="background-color: #0D4991;color: #ffffff;">샘플강의
                </a>
            </li>
          &lt;!&ndash;  <li class="nav-item">
                <a
                        class="nav-link"
                        id="profile-tab"
                        data-toggle="tab"
                        href="#profile"
                        role="tab"
                        aria-controls="profile"
                        aria-selected="false"
                >Specification</a
                >
            </li>
            <li class="nav-item">
                <a
                        class="nav-link"
                        id="contact-tab"
                        data-toggle="tab"
                        href="#contact"
                        role="tab"
                        aria-controls="contact"
                        aria-selected="false"
                >Comments</a
                >
            </li>&ndash;&gt;
            <li class="nav-item" >
                <a
                        class="nav-link"
                        id="review-tab"
                        data-toggle="tab"
                        href="#review"
                        role="tab"
                        aria-controls="home"
                        aria-selected="true"
                        style="background-color: #0D4991;color: #ffffff;"
                >강의 정보</a
                >
            </li>-->
        </ul>




        <div class="tab-content" id="myTabContent">
            <div
                    class="tab-pane fade"
                    id="home"
                    role="tabpanel"
                    aria-labelledby="home-tab"
            >
                <p>
                    Beryl Cook is one of Britain’s most talented and amusing artists

                </p>
                <p>
                    It is often frustrating to attempt to plan meals that are designed
                    for one. Despite this fact, we are seeing more and more recipe

                </p>
            </div>
            <div
                    class="tab-pane fade"
                    id="profile"
                    role="tabpanel"
                    aria-labelledby="profile-tab"
            >
                <div class="table-responsive">
                    <table class="table">
                        <tbody>
                        <tr>
                            <td>
                                <h5>Width</h5>
                            </td>
                            <td>
                                <h5>128mm</h5>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <h5>Height</h5>
                            </td>
                            <td>
                                <h5>508mm</h5>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <h5>Depth</h5>
                            </td>
                            <td>
                                <h5>85mm</h5>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <h5>Weight</h5>
                            </td>
                            <td>
                                <h5>52gm</h5>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <h5>Quality checking</h5>
                            </td>
                            <td>
                                <h5>yes</h5>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <h5>Freshness Duration</h5>
                            </td>
                            <td>
                                <h5>03days</h5>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <h5>When packeting</h5>
                            </td>
                            <td>
                                <h5>Without touch of hand</h5>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <h5>Each Box contains</h5>
                            </td>
                            <td>
                                <h5>60pcs</h5>
                            </td>
                        </tr>
                        </tbody>
                    </table>
                </div>
            </div>
            <div
                    class="tab-pane fade"
                    id="contact"
                    role="tabpanel"
                    aria-labelledby="contact-tab"
            >
                <div class="row">
                    <div class="col-lg-6">
                        <div class="comment_list">
                            <div class="review_item">
                                <div class="media">
                                    <div class="d-flex">
                                        <img
                                                src="img/product/single-product/review-1.png"
                                                alt=""
                                        />
                                    </div>
                                    <div class="media-body">
                                        <h4>Blake Ruiz</h4>
                                        <h5>12th Feb, 2017 at 05:56 pm</h5>
                                        <a class="reply_btn" href="#">Reply</a>
                                    </div>
                                </div>
                                <p>
                                    Lorem ipsum dolor sit amet, consectetur adipisicing elit,
                                    sed do eiusmod tempor incididunt ut labore et dolore magna
                                    aliqua. Ut enim ad minim veniam, quis nostrud exercitation
                                    ullamco laboris nisi ut aliquip ex ea commodo
                                </p>
                            </div>
                            <div class="review_item reply">
                                <div class="media">
                                    <div class="d-flex">
                                        <img
                                                src="img/product/single-product/review-2.png"
                                                alt=""
                                        />
                                    </div>
                                    <div class="media-body">
                                        <h4>Blake Ruiz</h4>
                                        <h5>12th Feb, 2017 at 05:56 pm</h5>
                                        <a class="reply_btn" href="#">Reply</a>
                                    </div>
                                </div>
                                <p>
                                    Lorem ipsum dolor sit amet, consectetur adipisicing elit,
                                    sed do eiusmod tempor incididunt ut labore et dolore magna
                                    aliqua. Ut enim ad minim veniam, quis nostrud exercitation
                                    ullamco laboris nisi ut aliquip ex ea commodo
                                </p>
                            </div>
                            <div class="review_item">
                                <div class="media">
                                    <div class="d-flex">
                                        <img
                                                src="img/product/single-product/review-3.png"
                                                alt=""
                                        />
                                    </div>
                                    <div class="media-body">
                                        <h4>Blake Ruiz</h4>
                                        <h5>12th Feb, 2017 at 05:56 pm</h5>
                                        <a class="reply_btn" href="#">Reply</a>
                                    </div>
                                </div>
                                <p>
                                    Lorem ipsum dolor sit amet, consectetur adipisicing elit,
                                    sed do eiusmod tempor incididunt ut labore et dolore magna
                                    aliqua. Ut enim ad minim veniam, quis nostrud exercitation
                                    ullamco laboris nisi ut aliquip ex ea commodo
                                </p>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-6">
                        <div class="review_box">
                            <h4>Post a comment</h4>
                            <form class="row contact_form" action="contact_process.php" method="post" id="contactForm" novalidate="novalidate">
                                <div class="col-md-12">
                                    <div class="form-group">
                                        <input
                                                type="text"
                                                class="form-control"
                                                id="name"
                                                name="name"
                                                placeholder="Your Full name"
                                        />
                                    </div>
                                </div>
                                <div class="col-md-12">
                                    <div class="form-group">
                                        <input
                                                type="email"
                                                class="form-control"
                                                id="email"
                                                name="email"
                                                placeholder="Email Address"
                                        />
                                    </div>
                                </div>
                                <div class="col-md-12">
                                    <div class="form-group">
                                        <input
                                                type="text"
                                                class="form-control"
                                                id="number"
                                                name="number"
                                                placeholder="Phone Number"
                                        />
                                    </div>
                                </div>
                                <div class="col-md-12">
                                    <div class="form-group">
                        <textarea
                                class="form-control"
                                name="message"
                                id="message"
                                rows="1"
                                placeholder="Message"
                        ></textarea>
                                    </div>
                                </div>
                                <div class="col-md-12 text-right">
                                    <button
                                            type="submit"
                                            value="submit"
                                            class="btn submit_btn"
                                    >
                                        Submit Now
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
            <div
                    class="tab-pane fade show active"
                    id="review"
                    role="tabpanel"
                    aria-labelledby="review-tab"
            >
                <div class="row">
                    <div class="col-lg-7">



                        <ul class="nav nav-tabs" id="myTab" role="tablist">
                            <li class="nav-item" >
                                <a
                                        class="nav-link "
                                        id="home-tab"
                                        data-toggle="tab"
                                        href="#home"
                                        role="tab"
                                        aria-controls="home"
                                        aria-selected="true"
                                        style="background-color: #0D4991;color: #ffffff;">샘플강의
                                </a>
                            </li>
                        </ul>



                        <!--<h4>샘플 강의</h4>-->


                            <!--<table class="tb1">
                                <thead>
                                <tr class="title">
                                    <th colspan="5">시범 강의</th>
                                </tr>
                                </thead>
                            </table>-->

                            <div class="player">
                                <div class="vdo_fr">
                                    <video id="video">
                                        <source th:src="@{'/upload/' + ${lecture.getLectureVedio()}}" type="video/mp4" />
                                    </video>
                                </div>
                                <div id="timebar">
                                    <span id="currentTime"></span>
                                </div>
                                <div id="buttonbar">
                                    <button id="restart" class="player_btn"></button>
                                    <button id="rew" class="player_btn"></button>
                                    <button id="play" class="player_btn"></button>
                                    <button id="pause" class="player_btn"></button>
                                    <button id="stop" class="player_btn"></button>
                                    <button id="fastFwd" class="player_btn"></button>
                                    <button id="mute" class="player_btn"></button>
                                    <button id="unmute" class="player_btn"></button>
                                    <input id="vol" type="range" value="500" min="0" max="1000">
                                    <button id="vmup" class="player_btn"></button>
                                    <button id="vmdown" class="player_btn"></button>
                                    <button id="volTxt">100%</button>
                                    <button id="sizeup" class="player_btn"></button>
                                    <button id="sizedown" class="player_btn"></button>
                                    <button id="full" class="player_btn"></button>
                                    <button id="original" class="player_btn"></button>
                                </div>
                                <div id="progress">
                                    <div id="progressBar"></div>
                                </div>
                            </div>
                              <script th:src="@{/js/lecture/vdo.js}"/></script>




                    </div>
                    <div class="col-lg-5" >


                        <div class="review_box" >
                            <ul class="nav nav-tabs" id="myTab" role="tablist">
                                <li class="nav-item" >
                                    <a
                                            class="nav-link"
                                            id="review-tab"
                                            data-toggle="tab"
                                            href="#review"
                                            role="tab"
                                            aria-controls="home"
                                            aria-selected="true"
                                            style="background-color: #0D4991;color: #ffffff;"
                                    >강의 정보</a
                                    >
                                </li>
                            </ul>



                            <table class="table">
                            <tr>
                                <th style="width: 22%;">강의 제목</th>
                                <td th:text="${lecture.getLectureName()}" style="border-top: 1px solid #dee2e6;"></td>
                            </tr>

                                <tr>
                                    <th th:each="vwLecture: ${vwLecture}">당담 강사</th>
                                    <td th:text="${vwLecture.getUserName()}"></td>
                                </tr>




                                <tr>
                                <th style="width: 22%;">강의 상태</th>
                                <td>
                                    <p2 th:text="${lecture.getLectureAct() == 1 ? '강의예정' : (lecture.getLectureAct() == 2 ? '강의중' : (lecture.getLectureAct() == 3 ? '강의종료' : (lecture.getLectureAct() == 4 ? '폐강' : (lecture.getLectureAct() == 5 ? '강의철회' : ''))))}"
                                    ></p2>

                                </td>
                            </tr>


                            <tr>
                                <th style="width: 22%;">강좌 설명</th>
                                <td th:text="${lecture.getLectureContent()}"></td>
                            </tr>

                            <tr>
                                <th style="width: 22%;">수강 신청 기간</th>
                                <td>
                                    <p2 th:text="${lecture.getStartEnrolmentDate()}"></p2>
                                    <strong> - </strong>
                                    <p2 th:text="${lecture.getEndEnrolmentDate()}"></p2>
                                </td>
                            </tr>

                            <tr>
                                <th style="width: 22%;">강의 운영 기간</th>
                                <td>
                                    <p2 th:text="${lecture.getStartStudyDate()}"></p2>
                                    <strong> - </strong>
                                    <p2 th:text="${lecture.getEndStudyDate()}"></p2>
                                </td>
                            </tr>

                            </table>


                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
<!--================End Product Description Area =================-->


<th:block th:insert="~{layout/lmsFooter :: lmsFooter}"></th:block>


<!-- Optional JavaScript -->
<!-- jQuery first, then Popper.js, then Bootstrap JS -->

<script src="js/jquery-3.2.1.min.js"></script>
<script src="js/popper.js"></script>
<script src="js/bootstrap.min.js"></script>
<script src="js/stellar.js"></script>
<script src="vendors/lightbox/simpleLightbox.min.js"></script>
<script src="vendors/nice-select/js/jquery.nice-select.min.js"></script>
<script src="vendors/isotope/imagesloaded.pkgd.min.js"></script>
<script src="vendors/isotope/isotope-min.js"></script>
<script src="vendors/owl-carousel/owl.carousel.min.js"></script>
<script src="js/jquery.ajaxchimp.min.js"></script>
<script src="js/mail-script.js"></script>
<script src="vendors/jquery-ui/jquery-ui.js"></script>
<script src="vendors/counter-up/jquery.waypoints.min.js"></script>
<script src="vendors/counter-up/jquery.counterup.js"></script>
<script src="js/theme.js"></script>
</body>
</html>